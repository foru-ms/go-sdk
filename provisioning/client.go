// Code generated by Fern. DO NOT EDIT.

package provisioning

import (
	context "context"
	foru_ms_sdk "github.com/foru-ms/go-sdk"
	core "github.com/foru-ms/go-sdk/core"
	internal "github.com/foru-ms/go-sdk/internal"
	option "github.com/foru-ms/go-sdk/option"
)

type Client struct {
	WithRawResponse *RawClient

	options *core.RequestOptions
	baseURL string
	caller  *internal.Caller
}

func NewClient(options *core.RequestOptions) *Client {
	return &Client{
		WithRawResponse: NewRawClient(options),
		options:         options,
		baseURL:         options.BaseURL,
		caller: internal.NewCaller(
			&internal.CallerParams{
				Client:      options.HTTPClient,
				MaxAttempts: options.MaxAttempts,
			},
		),
	}
}

// Retrieve all instances owned by the authenticated user. Use the `handle` query parameter to get a single instance with its API key.
func (c *Client) List(
	ctx context.Context,
	request *foru_ms_sdk.ListProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.ListProvisioningResponse, error) {
	response, err := c.WithRawResponse.List(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Create a new forum instance. Returns the instance details including the API key for accessing the forum API.
func (c *Client) Create(
	ctx context.Context,
	request *foru_ms_sdk.CreateInstance,
	opts ...option.RequestOption,
) (*foru_ms_sdk.CreateProvisioningResponse, error) {
	response, err := c.WithRawResponse.Create(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Update an instance's name or handle. The `handle` field identifies which instance to update.
func (c *Client) Update(
	ctx context.Context,
	request *foru_ms_sdk.UpdateInstance,
	opts ...option.RequestOption,
) (*foru_ms_sdk.UpdateProvisioningResponse, error) {
	response, err := c.WithRawResponse.Update(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Permanently delete an instance. This action cannot be undone.
func (c *Client) Delete(
	ctx context.Context,
	request *foru_ms_sdk.DeleteInstance,
	opts ...option.RequestOption,
) (*foru_ms_sdk.DeleteProvisioningResponse, error) {
	response, err := c.WithRawResponse.Delete(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Retrieve billing and subscription information for an instance.
func (c *Client) GetBilling(
	ctx context.Context,
	request *foru_ms_sdk.GetBillingProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.GetBillingProvisioningResponse, error) {
	response, err := c.WithRawResponse.GetBilling(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Change an instance's subscription plan. Returns a checkout URL for upgrades or a billing portal URL for downgrades.
func (c *Client) ChangePlan(
	ctx context.Context,
	request *foru_ms_sdk.UpgradeInstance,
	opts ...option.RequestOption,
) (*foru_ms_sdk.ChangePlanProvisioningResponse, error) {
	response, err := c.WithRawResponse.ChangePlan(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Generate a new API key for the instance. The old key will be invalidated.
func (c *Client) RegenerateAPIKey(
	ctx context.Context,
	request *foru_ms_sdk.RegenerateAPIKeyProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.RegenerateAPIKeyProvisioningResponse, error) {
	response, err := c.WithRawResponse.RegenerateAPIKey(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Retrieve usage statistics for an instance including API requests, storage, and content counts.
func (c *Client) GetUsage(
	ctx context.Context,
	request *foru_ms_sdk.GetUsageProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.GetUsageProvisioningResponse, error) {
	response, err := c.WithRawResponse.GetUsage(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Retrieve all team members for an instance.
func (c *Client) ListTeam(
	ctx context.Context,
	request *foru_ms_sdk.ListTeamProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.ListTeamProvisioningResponse, error) {
	response, err := c.WithRawResponse.ListTeam(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Invite new team members to an instance.
func (c *Client) InviteTeam(
	ctx context.Context,
	request *foru_ms_sdk.InviteTeamProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.InviteTeamProvisioningResponse, error) {
	response, err := c.WithRawResponse.InviteTeam(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Remove a team member from an instance.
func (c *Client) RemoveTeamMember(
	ctx context.Context,
	request *foru_ms_sdk.RemoveTeamMemberProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.RemoveTeamMemberProvisioningResponse, error) {
	response, err := c.WithRawResponse.RemoveTeamMember(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Retrieve all custom domains for an instance.
func (c *Client) ListDomains(
	ctx context.Context,
	request *foru_ms_sdk.ListDomainsProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.ListDomainsProvisioningResponse, error) {
	response, err := c.WithRawResponse.ListDomains(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Add a custom domain to an instance.
func (c *Client) AddDomain(
	ctx context.Context,
	request *foru_ms_sdk.AddDomainProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.AddDomainProvisioningResponse, error) {
	response, err := c.WithRawResponse.AddDomain(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Remove a custom domain from an instance.
func (c *Client) RemoveDomain(
	ctx context.Context,
	request *foru_ms_sdk.RemoveDomainProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.RemoveDomainProvisioningResponse, error) {
	response, err := c.WithRawResponse.RemoveDomain(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Export all data from an instance including threads, posts, users, tags, etc.
func (c *Client) ExportData(
	ctx context.Context,
	request *foru_ms_sdk.ExportDataProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.ExportDataProvisioningResponse, error) {
	response, err := c.WithRawResponse.ExportData(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Retrieve all webhooks configured for an instance.
func (c *Client) ListWebhooks(
	ctx context.Context,
	request *foru_ms_sdk.ListWebhooksProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.ListWebhooksProvisioningResponse, error) {
	response, err := c.WithRawResponse.ListWebhooks(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Create a new webhook for an instance.
func (c *Client) CreateWebhook(
	ctx context.Context,
	request *foru_ms_sdk.CreateWebhookProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.CreateWebhookProvisioningResponse, error) {
	response, err := c.WithRawResponse.CreateWebhook(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Update an existing webhook.
func (c *Client) UpdateWebhook(
	ctx context.Context,
	request *foru_ms_sdk.UpdateWebhookProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.UpdateWebhookProvisioningResponse, error) {
	response, err := c.WithRawResponse.UpdateWebhook(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Delete a webhook from an instance.
func (c *Client) DeleteWebhook(
	ctx context.Context,
	request *foru_ms_sdk.DeleteWebhookProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.DeleteWebhookProvisioningResponse, error) {
	response, err := c.WithRawResponse.DeleteWebhook(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Retrieve owner and creator information for an instance.
func (c *Client) GetOwnership(
	ctx context.Context,
	request *foru_ms_sdk.GetOwnershipProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.GetOwnershipProvisioningResponse, error) {
	response, err := c.WithRawResponse.GetOwnership(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Transfer instance ownership to another user. Only the current owner can transfer ownership.
func (c *Client) TransferOwnership(
	ctx context.Context,
	request *foru_ms_sdk.TransferOwnershipProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.TransferOwnershipProvisioningResponse, error) {
	response, err := c.WithRawResponse.TransferOwnership(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Create a new account and receive a provisioning key for API access. Use this key to create and manage instances.
func (c *Client) Register(
	ctx context.Context,
	request *foru_ms_sdk.RegisterProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.RegisterProvisioningResponse, error) {
	response, err := c.WithRawResponse.Register(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}

// Login with email and password to retrieve your provisioning key.
func (c *Client) Login(
	ctx context.Context,
	request *foru_ms_sdk.LoginProvisioningRequest,
	opts ...option.RequestOption,
) (*foru_ms_sdk.LoginProvisioningResponse, error) {
	response, err := c.WithRawResponse.Login(
		ctx,
		request,
		opts...,
	)
	if err != nil {
		return nil, err
	}
	return response.Body, nil
}
